syntax = "proto3";

package transaction;

message LeaderRequest {
    bytes request_id = 1;
    bytes transaction = 2;
}

message LeaderResponse {
    bytes request_id = 1;
    bool status = 2;
    bytes accreditation_council_aggregated_signature = 3;
    bytes broadcast_aggregated_signature = 4;
}

message AccreditationCouncilRequest {
    bytes request_id = 1;
    bytes transaction = 2;
}

message AccreditationCouncilResponse {
    bytes request_id = 1;
    bool status = 2;
    bytes signature = 3;
}

message BroadcastRequest {
    bytes request_id = 1;
    bytes broadcast_transaction_temp = 2;
}

message BroadcastResponse {
    bytes request_id = 1;
    bool status = 2;
    bytes signature = 3;
}

message SaveRequest {
    bytes request_id = 1;
    bytes transaction = 2;
}

message SaveResponse {
    bytes request_id = 1;
    bool status = 2;
}

service Transaction {
    rpc Leader(stream LeaderRequest) returns (stream LeaderResponse) {}
    rpc AccreditationCouncil(stream AccreditationCouncilRequest) returns (stream AccreditationCouncilResponse) {}
    rpc Broadcast(stream BroadcastRequest) returns (stream BroadcastResponse) {}
    rpc Save(stream SaveRequest) returns (stream SaveResponse) {}
}